<mat-toolbar class="eco-navbar fixed top-0 left-0 right-0 z-50 backdrop-blur-xl">
  <div class="flex items-center justify-between w-full max-w-7xl mx-auto px-6 py-3">

    <!-- Logo -->
    <a routerLink="/" class="flex items-center gap-3 group">
  <div class="eco-logo">
  EcoBazaar
</div>


    </a>

    <!-- Desktop Navigation -->
    <nav class="hidden lg:flex items-center gap-10 flex-1 justify-center">

      <!-- Normal User -->
      <ng-container *ngIf="auth.isUser() && !auth.isSeller() && !auth.isAdmin()">
        <a routerLink="/products" routerLinkActive="active-link"
           class="nav-link">Shop</a>

        <a routerLink="/cart" routerLinkActive="active-link"
           class="nav-link relative">
          Cart
          <span *ngIf="cartCount > 0"
                class="absolute -top-3 -right-6 bg-yellow-400 text-black text-xs font-bold px-3 py-1 rounded-full animate-pulse shadow-lg">
            {{ cartCount }}
          </span>
        </a>

        <a routerLink="/dashboard"
           class="text-emerald-700 hover:text-emerald-900 font-bold text-lg transition-all duration-300">
          My Impact
        </a>
      </ng-container>

      <!-- Seller -->
      <ng-container *ngIf="auth.isSeller() && !auth.isAdmin()">
        <a routerLink="/seller/dashboard" class="nav-link font-bold">
          Seller Hub
        </a>
      </ng-container>

      <!-- Admin -->
      <ng-container *ngIf="auth.isAdmin()">
        <a routerLink="/admin"
           class="px-6 py-2 rounded-full border border-emerald-500 text-emerald-700 font-bold bg-white/40 backdrop-blur-md">
          Admin Panel
        </a>
      </ng-container>
    </nav>

    <!-- Right Auth Buttons -->
    <div class="flex items-center gap-6">

      <!-- Guest -->
      <ng-container *ngIf="!auth.isLoggedIn()">
        <button mat-stroked-button routerLink="/login" class="eco-auth-btn">
          Login
        </button>
        <button mat-stroked-button routerLink="/register" class="eco-auth-btn">
          Register
        </button>
      </ng-container>

      <!-- Logged In -->
      <ng-container *ngIf="auth.isLoggedIn()">
        <div class="flex items-center gap-6 border-l border-emerald-300/40 pl-6">
          <div class="text-right">
            <p class="text-emerald-700 text-sm">Welcome back</p>
            <p class="font-bold text-emerald-900 text-lg">{{ auth.getName() }}</p>
          </div>
          <button mat-icon-button [matMenuTriggerFor]="userMenu">
            <mat-icon class="text-3xl text-emerald-800">account_circle</mat-icon>
          </button>
        </div>
      </ng-container>
    </div>

  </div>
</mat-toolbar>

<!-- User Menu -->
<mat-menu #userMenu="matMenu" class="eco-menu">

  
  <button mat-menu-item (click)="logout()" class="eco-item text-red-600">
    <mat-icon>logout</mat-icon>
    <span>Logout</span>
  </button>

</mat-menu>


<!-- Page Content -->
<div class="pt-15 min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 relative overflow-hidden">
  <div class="absolute inset-0 -z-10 pointer-events-none">
    <div class="absolute top-10 -left-20 w-96 h-96 bg-emerald-400/25 rounded-full blur-3xl animate-pulse"></div>
    <div class="absolute bottom-0 right-0 w-80 h-80 bg-teal-500/20 rounded-full blur-3xl animate-pulse delay-1000"></div>
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-lime-400/15 rounded-full blur-3xl animate-pulse delay-500"></div>
  </div>
  <router-outlet></router-outlet>
</div>