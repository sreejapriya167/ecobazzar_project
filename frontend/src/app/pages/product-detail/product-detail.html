<div class="page-wrapper min-h-screen 
            bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 
            dark:bg-gray-950 dark:text-gray-100 
            relative overflow-hidden py-12 px-6">

  <div class="max-w-7xl mx-auto">

    <!-- Loading -->
    <div *ngIf="loading" class="text-center py-32">
      <div class="animate-spin h-16 w-16 rounded-full border-4 border-emerald-500 border-t-transparent mx-auto"></div>
      <p class="mt-6 text-xl text-gray-600">Loading product details...</p>
    </div>

    <!-- Error -->
    <div *ngIf="error && !loading" class="text-center py-24">
      <p class="text-3xl font-bold text-red-600 mb-6">{{ error }}</p>
      <button (click)="goBack()"
              class="px-10 py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-xl transition">
        Back to Products
      </button>
    </div>

    <!-- Product Detail -->
    <div *ngIf="product && !loading"
         class="grid lg:grid-cols-2 gap-16 items-start">

      <!-- LEFT: Large Image -->
      <div class="sticky top-10">
        <div class="rounded-3xl overflow-hidden shadow-xl border border-gray-200 card">
          <img [src]="product.imageUrl || 'assets/placeholder.png'"
               [alt]="product.name"
               class="w-full max-h-[700px] object-cover transition-transform duration-700 hover:scale-105" />
        </div>

        <div *ngIf="product.ecoCertified"
             class="absolute top-6 left-6 bg-emerald-600 text-white px-6 py-2 rounded-full text-sm font-bold shadow-xl">
          üåø Eco-Certified
        </div>
      </div>

      <!-- RIGHT: Product Info -->
      <div class="space-y-10">

        <!-- Name + Description -->
        <div>
          <h1 class="text-5xl font-extrabold text-gray-900 leading-snug">
            {{ product.name }}
          </h1>
          <p class="mt-4 text-lg text-gray-700 leading-relaxed">
            {{ product.details || 'A consciously crafted, planet-friendly product.' }}
          </p>
        </div>

        <!-- Price + CO2 -->
        <div class="flex items-center gap-8">
          <p class="text-4xl font-black text-emerald-600">
            ‚Çπ{{ product.price | number:'1.0-0' }}
          </p>

          <div *ngIf="product.carbonImpact != null"
               class="flex items-center gap-3 card-100 px-5 py-3 rounded-xl border border-gray-300">
            <span class="text-xl">CO‚ÇÇ </span>
            <div>
              <p class="text-xl font-semibold">{{ product.carbonImpact }} kg</p>
              <p class="text-xs text-gray-600">per unit</p>
            </div>
          </div>
        </div>

        <!-- Eco Benefits -->
        <div *ngIf="product.ecoCertified"
             class="bg-emerald-50 p-8 rounded-2xl border border-emerald-200">
          <h3 class="text-xl font-bold text-emerald-700 mb-3">
            Why This Product is Better for the Earth
          </h3>

          <ul class="space-y-2 text-gray-700">
            <li>‚úî Verified low-carbon production</li>
            <li>‚úî Sustainable & ethically sourced materials</li>
            <li>‚úî Packaging designed for zero-waste</li>
          </ul>
        </div>

        <!-- Add to Cart -->
        <div class="flex items-center gap-6">
          <div class="flex items-center gap-4">
            <label class="font-medium text-gray-700">Qty:</label>
            <input type="number" [(ngModel)]="qty" min="1" max="99"
                   class="w-20 px-4 py-2 text-lg text-center rounded-lg border border-gray-300 focus:ring-emerald-500 focus:border-emerald-500" />
          </div>

          <button (click)="addToCart()"
                  [disabled]="added || qty < 1"
                  class="flex-1 py-4 text-lg font-semibold bg-emerald-600 text-white rounded-xl shadow-md hover:bg-emerald-700 transition flex items-center justify-center gap-3">
            <span *ngIf="!added">Add to Cart</span>
            <span *ngIf="added">Added ‚úì</span>
          </button>
        </div>

        <!-- Back -->
        <button (click)="goBack()"
                class="text-emerald-600 text-lg font-semibold hover:underline">
          ‚Üê Back to Products
        </button>

      </div>
    </div>

  </div>
</div>
